{"version":3,"file":"change-setting.js","sourceRoot":"","sources":["../../../src/components/change-setting.tsx"],"names":[],"mappings":";;AAAA,OAAO,MAAM,MAAM,KAAK,CAAC;AACzB,OAAO,EAAE,qBAAqB,EAAE,MAAM,cAAc,CAAC;AAGrD,IAAM,QAAQ,GAAG;IACb,MAAM,EAAE;QACJ,KAAK,EAAE,YAAY;QACnB,IAAI,EAAE,0CAA0C;KACnD;IACD,QAAQ,EAAE;QACN,KAAK,EAAE,cAAc;QACrB,IAAI,EAAE,yCAAyC;KAClD;CACJ,CAAC;AAEF,IAAM,MAAM,GACR,uGAAuG,CAAC;AAE5G,SAAS,aAAa;IAAtB,iBAiCC;IAhCS,IAAA,KAA0B,MAAM,CAAW,eAAe,CAAC,EAAzD,IAAI,UAAA,EAAE,KAAK,WAAA,EAAE,MAAM,YAAsC,CAAC;IAElE,IAAI,CAAC,IAAI,IAAI,KAAK,EAAE;QAChB,OAAO,IAAI,CAAC;KACf;IAED,IAAM,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;IAE9D,OAAO,CACH,wBACI,0BACI,SAAS,EAAE,UAAG,MAAM,cAAI,OAAO,CAAC,KAAK,CAAE,EACvC,OAAO,EAAE;;;;;4BACC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;4BAC5B,MAAM,uBAEK,IAAI,KACP,cAAc,eAAO,IAAI,CAAC,cAAc,GACxC,MAAM,QAAA,KAEV,KAAK,CACR,CAAC;4BAEF,qBAAM,qBAAqB,CAAC,MAAM,CAAC,EAAA;;4BAAnC,SAAmC,CAAC;4BAEpC,MAAM,EAAE,CAAC;;;;iBACZ,gBAEA,OAAO,CAAC,IAAI,IACR,GACP,CACT,CAAC;AACN,CAAC;AAED,eAAe,aAAa,CAAC","sourcesContent":["import useSWR from 'swr';\nimport { requestUpdateSchedule } from 'lib/requests';\nimport type { Schedule } from 'src/types';\n\nconst contents = {\n    active: {\n        style: 'bg-red-500',\n        text: 'Click me to disable changing your header',\n    },\n    disabled: {\n        style: 'bg-green-500',\n        text: 'Click me to enable changing your header',\n    },\n};\n\nconst styles =\n    'mb-5 text-white p-3 rounded-sm font-sans text-sm hover:transform hover:scale-105 transition-transform';\n\nfunction ChangeSetting(): JSX.Element | null {\n    const { data, error, mutate } = useSWR<Schedule>('/api/schedule');\n\n    if (!data || error) {\n        return null;\n    }\n\n    const content = contents[data.active ? 'active' : 'disabled'];\n\n    return (\n        <div>\n            <button\n                className={`${styles} ${content.style}`}\n                onClick={async () => {\n                    const active = !data.active;\n                    mutate(\n                        {\n                            ...data,\n                            timeTillChange: { ...data.timeTillChange },\n                            active,\n                        },\n                        false,\n                    );\n\n                    await requestUpdateSchedule(active);\n\n                    mutate();\n                }}\n            >\n                {content.text}\n            </button>\n        </div>\n    );\n}\n\nexport default ChangeSetting;\n"]}